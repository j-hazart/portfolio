---
import NavLink from "./NavLink.astro";
import logo from "../assets/logo.svg";
import burger from "../assets/burger.svg"
---

<header class="flex max-w-7xl h-9 w-full justify-between items-center">
    <a href="/"><img src={logo} alt="logo" width="36px" /></a>
    <img class="max-md:block hidden z-30" id="burger" src={burger} alt="">
    <nav id="menu" class="max-md:hidden max-md:absolute top-20 left-0 max-md:w-full max-md:h-[calc(100%-5rem)] max-md:z-20 flex max-md:justify-center max-md:items-center max-md:bg-gradient-to-br max-md:from-purple-light max-md:to-purple-dark max-md:bg-fixed transition-all">
        <ul class="max-md:justify-start max-md:h-full max-md:text-2xl max-md:flex-col text-primary flex gap-8 uppercase font-bold items-center max-md:pt-16">
            <NavLink url="/about" title="prÃ©sentation" />
            <NavLink url="/projects" title="projets" />
            <NavLink url="/contact" title="contact" />
        </ul>
    </nav>
</header>

<script>
    const burger = document.getElementById("burger");
    const menu = document.getElementById("menu");
    const body = document.querySelector("body");
    
    burger.addEventListener("click", toggleMenu);

    function toggleMenu() {
        menu.classList.toggle("max-md:hidden");
        menu.classList.toggle("open");
        body.classList.toggle("overflow-hidden");
        const isOpen = [...menu.classList].includes('open');
        burger.src = isOpen 
        ? "src/assets/x-circle.svg" 
        : "src/assets/burger.svg" ;
    }
</script>